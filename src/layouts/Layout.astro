---
import '../styles/global.css';
const { title = "Josh Hiller — Portfolio", description = "Software engineer focused on quantum computing.", image = "/assets/hero-bg.jpg" } = Astro.props;
const current = Astro.url.pathname;
const isActive = (href: string) => current === href || (href !== '/' && current.startsWith(href));
const absolute = (p: string) => (p.startsWith('http') ? p : new URL(p, Astro.site ?? 'http://localhost').toString());
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>{title}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content={description} />
    <!-- Open Graph / Twitter -->
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={absolute(image)} />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
  </head>
  <body>
    <nav class="nav">
      <div class="container" style="display:flex;align-items:center;justify-content:space-between;height:52px;">
        <a href="/" style="font-weight:600;text-decoration:none;">JH</a>
        <div style="display:flex;gap:6px;">
          <a href="/" class={isActive('/') ? 'active' : ''}>Home</a>
          <a href="/projects" class={isActive('/projects') ? 'active' : ''}>Projects</a>
          <a href="/about" class={isActive('/about') ? 'active' : ''}>About</a>
          <a href="/contact" class={isActive('/contact') ? 'active' : ''}>Contact</a>
          <a href="/resume/Josh_Hiller_Resume.pdf" target="_blank" rel="noopener">Resume</a>
        </div>
      </div>
    </nav>

    <slot />

    <footer style="text-align:center;padding:24px;opacity:.6;">
      <small>© {new Date().getFullYear()} Josh Hiller</small>
    </footer>
  </body>
</html>
