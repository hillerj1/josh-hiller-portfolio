---
import { getCollection } from 'astro:content';

const all = await getCollection('projects');
const software = all.filter((p) => p.data.group === 'Software')
  .sort((a, b) => (b.data.date ?? '').localeCompare(a.data.date ?? ''));
const quantum = all.filter((p) => p.data.group === 'Quantum')
  .sort((a, b) => (b.data.date ?? '').localeCompare(a.data.date ?? ''));
---

<section style="max-width:1100px;margin:0 auto;padding:0 20px 60px;">
  <!-- HERO / ELEVATOR PITCH -->
  <header style="text-align:center;padding:56px 0 40px;">
    <h1 style="margin:0 0 10px;font-size:2.4rem;line-height:1.15;">Josh Hiller: Software Engineer with a focus on Quantum Computing</h1>
    <p style="margin:0 auto;opacity:.85;max-width:800px;font-size:1.05rem;">
      Building robust software solutions for today's problems while exploring the next generation of quantum algorithms.
    </p>
    <div style="display:flex;gap:12px;justify-content:center;margin-top:18px;flex-wrap:wrap;">
      <a href="/projects" style="text-decoration:none;background:#111827;color:#fff;padding:10px 16px;border-radius:10px;">View My Projects</a>
      <a href="/resume/Josh_Hiller_Resume.pdf" target="_blank" rel="noopener" style="text-decoration:none;background:#2563eb;color:#fff;padding:10px 16px;border-radius:10px;">Download Resume</a>
      <a href="/#testimonials" style="text-decoration:none;background:#e2e8f0;color:#0f172a;padding:10px 16px;border-radius:10px;">Read Testimonials</a>
    </div>
  </header>

  <!-- QUANTUM PROJECTS -->
  <section style="margin-top:20px;">
    <h2 style="font-size:1.5rem;margin-bottom:12px;">Quantum Computing Projects</h2>
    <div style="display:grid;gap:20px;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));">
      {quantum.map(({ slug, data }) => (
        <a href={`/projects/${slug}/`} style="text-decoration:none;color:inherit;border-radius:16px;overflow:hidden;background:#fff;box-shadow:0 6px 20px rgba(0,0,0,.08);display:flex;flex-direction:column;">
          <img src={data.image} alt={data.title} style="width:100%;aspect-ratio:16/9;object-fit:cover;" loading="lazy" />
          <div style="padding:16px 16px 18px;">
            <div style="font-size:.85rem;opacity:.7;margin-bottom:6px;">{data.category}</div>
            <h3 style="margin:0 0 6px;font-size:1.1rem;">{data.title}</h3>
            <p style="margin:0;opacity:.8;line-height:1.45;">{data.summary}</p>
          </div>
        </a>
      ))}
    </div>
  </section>

  <!-- SOFTWARE PROJECTS -->
  <section style="margin-top:30px;">
    <h2 style="font-size:1.5rem;margin-bottom:12px;">Software Engineering Projects</h2>
    <div style="display:grid;gap:20px;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));">
      {software.map(({ slug, data }) => (
        <a href={`/projects/${slug}/`} style="text-decoration:none;color:inherit;border-radius:16px;overflow:hidden;background:#fff;box-shadow:0 6px 20px rgba(0,0,0,.08);display:flex;flex-direction:column;">
          <img src={data.image} alt={data.title} style="width:100%;aspect-ratio:16/9;object-fit:cover;" loading="lazy" />
          <div style="padding:16px 16px 18px;">
            <div style="font-size:.85rem;opacity:.7;margin-bottom:6px;">{data.category}</div>
            <h3 style="margin:0 0 6px;font-size:1.1rem;">{data.title}</h3>
            <p style="margin:0;opacity:.8;line-height:1.45;">{data.summary}</p>
          </div>
        </a>
      ))}
    </div>
  </section>

  <!-- TESTIMONIALS -->
  <section id="testimonials" style="margin-top:40px;">
    <h2 style="font-size:1.5rem;margin-bottom:12px;">Testimonials</h2>
    <div style="display:grid;gap:16px;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));">
      <!-- Replace placeholder copy when you get real quotes -->
      <blockquote style="margin:0;background:#fff;border-radius:14px;padding:16px;box-shadow:0 6px 20px rgba(0,0,0,.08);">
        <p style="margin:0 0 8px;">“Josh’s work on our quantum simulation was exceptional—clean Qiskit implementations and clear documentation.”</p>
        <footer style="opacity:.7;">— Prof. [Name], Union College</footer>
      </blockquote>
      <blockquote style="margin:0;background:#fff;border-radius:14px;padding:16px;box-shadow:0 6px 20px rgba(0,0,0,.08);">
        <p style="margin:0 0 8px;">“He ships. From requirements to delivery, Josh handled the stack and communicated tradeoffs.”</p>
        <footer style="opacity:.7;">— [Manager Name], [Company]</footer>
      </blockquote>
    </div>
  </section>

  <!-- SKILLS -->
  <section style="margin-top:40px;">
    <h2 style="font-size:1.5rem;margin-bottom:12px;">Skills & Technologies</h2>
    <div style="display:grid;gap:16px;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));">
      <div style="background:#fff;border-radius:14px;padding:16px;box-shadow:0 6px 20px rgba(0,0,0,.08);">
        <h3 style="margin:0 0 6px;font-size:1.05rem;">Languages</h3>
        <p style="margin:0;opacity:.85;">Python, JavaScript/TypeScript, C++</p>
      </div>
      <div style="background:#fff;border-radius:14px;padding:16px;box-shadow:0 6px 20px rgba(0,0,0,.08);">
        <h3 style="margin:0 0 6px;font-size:1.05rem;">Software Development</h3>
        <p style="margin:0;opacity:.85;">React, Node.js, Git, Docker, SQL/NoSQL</p>
      </div>
      <div style="background:#fff;border-radius:14px;padding:16px;box-shadow:0 6px 20px rgba(0,0,0,.08);">
        <h3 style="margin:0 0 6px;font-size:1.05rem;">Quantum Computing</h3>
        <p style="margin:0;opacity:.85;">Qiskit, quantum circuits, VQE/algorithms</p>
      </div>
      <div style="background:#fff;border-radius:14px;padding:16px;box-shadow:0 6px 20px rgba(0,0,0,.08);">
        <h3 style="margin:0 0 6px;font-size:1.05rem;">Cloud / DevOps</h3>
        <p style="margin:0;opacity:.85;">AWS, Netlify, CI/CD</p>
      </div>
    </div>
  </section>
</section>
